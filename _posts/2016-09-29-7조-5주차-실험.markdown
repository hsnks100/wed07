---
layout: post
author: ...
date: 2016-09-30 17:48 +0900
tags: 
comments: true
---
# ARM DS-5 

DStream 과 Cortex-M3 으로 하는 실험이다. DStream 엔 JTAG 라는 디버거가 있고, 플래시 다운로드가 있어서 Cortex-M3 이라는 cpu 로 전송이 가능하다. 또한 이 JTAG 를 통해서 실시간 디버깅이 가능하다.

DStream 으로 Cortex-M3 에 axf 를 플래시 다운로더를 통해서 작업할 수 있다. 

# 개요
주어진 Scatter file을 이용하여 flash memory에 load한 것을 가지고 motor를 작동시킨다. 

# 세팅

![](../images/experiment02/preferences.PNG)
먼저 프로젝트를 생성하고 제공된 PSU로 Database 설정. 

![](../images/experiment02/setting.PNG)
4주차 실험과 동일하게 세팅하되 RO,RW base address 부분의 값을 지우고 새로 Scatter file(--scatter) 부분에 주어진 Scatter 파일 위치 지정.

![](../images/experiment02/setting3.png)
Debug Configuration의 Connection 탭에서 PSU의 Cortex-M3로 연결.

![](../images/experiment02/debugger2.png)
File 탭의 해당 부분의 값을 지운다.

![](../images/experiment02/debugger1.PNG)
Debugger 탭의 Connect only 를 선택.

![](../images/experiment02/setting4.png)
프로젝트 debug 후, Flash Load를 위해 Command 창에 "info flash" 명령어를 쳐서 flash memory의 설정을 확인.

![](../images/experiment02/setting2.PNG)
확인 후, Flash load ".axf 경로" 를 입력하면, board 로 source가 보내진다. 


motor 에 전원 공급장치, DStream와 motor 를 연결한 모습. 

![](../images/experiment02/connect_all.jpg)
전체적인 기계 연결 모습

# 구현

LED 불키기와 조이스틱 탐지에 대해서는 4주차 실험을 참조한다. 

##motor Driver

###Motor Driver 구조

![](../images/experiment02/motor_driver_circuit.png)
다음은 Motor Driver 회로도이다. 

![](../images/experiment02/motor1.png)
+12v power 에 (+) 전압을 인가하고, power GND 에 (-) 전압을 인가한다. 
motor를 output A와 input1,2가 연결되어있고 output B와 input3,4가 연결되어있다. 


![](../images/experiment02/motor_board.jpg)
Motor Driver와 Cortex 연결 모습. 










# 결론




